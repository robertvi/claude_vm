# Tinyproxy Filter File - Restrictive Mode
# This file contains regular expressions for allowed domains
# Each line is a POSIX extended regular expression
# Lines starting with # are comments

# Claude API and related services

#see https://code.claude.com/docs/en/network-config#network-access-requirements
^api\.anthropic\.com(:[0-9]+)?$
^claude\.ai(:[0-9]+)?$
^statsig\.anthropic\.com(:[0-9]+)?$
^sentry\.io(:[0-9]+)?$

#claude added these itself
^platform\.claude\.com(:[0-9]+)?$
^console\.anthropic\.com(:[0-9]+)?$


# NPM package registries
^registry\.npmjs\.org(:[0-9]+)?$
^registry\.yarnpkg\.com(:[0-9]+)?$

# Python package index
^pypi\.org(:[0-9]+)?$
^files\.pythonhosted\.org(:[0-9]+)?$

# Git repositories
^github\.com(:[0-9]+)?$
^gitlab\.com(:[0-9]+)?$
^.*\.github\.com(:[0-9]+)?$
^.*\.githubusercontent\.com(:[0-9]+)?$
^raw\.githubusercontent\.com(:[0-9]+)?$

# Common CDNs for packages
^cdn\.jsdelivr\.net(:[0-9]+)?$
^unpkg\.com(:[0-9]+)?$

# Package manager mirrors (common ones)
^deb\.debian\.org(:[0-9]+)?$
^security\.debian\.org(:[0-9]+)?$
^archive\.ubuntu\.com(:[0-9]+)?$
^security\.ubuntu\.com(:[0-9]+)?$
^ports\.ubuntu\.com(:[0-9]+)?$

# DNS over HTTPS (if needed)
^dns\.google(:[0-9]+)?$
^cloudflare-dns\.com(:[0-9]+)?$
